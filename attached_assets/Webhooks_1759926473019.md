# Webhooks (Temps réel)

## Create Webhook Account
**POST** `/v1/webhooks/accounts`  
**But** : enregistrer un compte LinkedIn pour la surveillance temps réel (messages).  
**Crédits** : **0** à la création ; **10 crédits/jour** quand monitoring **actif**.  
**Body** : `login_token` (req), `webhook_url` (req), `country` (def `FR`), `account_name?`  
**Réponse** : `id`, `is_active` (false), timestamps.

---

## List Webhook Accounts
**GET** `/v1/webhooks/accounts`  
**But** : lister les comptes enregistrés.  
**Réponse** : `accounts[] { id, login_token, country, webhook_url, account_name, is_active, created_at, updated_at }`, `total`

---

## Update Webhook Account
**PUT** `/v1/webhooks/accounts/{account_id}`  
**But** : modifier config compte webhook.  
**Body** : `login_token?`, `webhook_url?`, `country?`, `account_name?`  
**Réponse** : mêmes champs mis à jour.

---

## Delete Webhook Account
**DELETE** `/v1/webhooks/accounts/{account_id}`  
**But** : supprimer compte + arrêter monitoring. Action **irréversible**.

---

## Start Webhook Monitoring
**POST** `/v1/webhooks/accounts/{account_id}/start`  
**But** : démarrer le monitoring temps réel (déclenche la conso 10 crédits/jour).  
**Réponse** : `is_active:true`

## Stop Webhook Monitoring
**POST** `/v1/webhooks/accounts/{account_id}/stop`  
**But** : arrêter le monitoring (arrêt immédiat de l’envoi de webhooks).

## Check Monitoring Status
**GET** `/v1/webhooks/accounts/{account_id}/status`  
**But** : statut courant (`is_active`).  
**Exemple (réponse)** :
```json
{ "account_id":"...", "is_active":true, "message":"Monitoring is active" }
```
