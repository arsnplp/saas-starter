# LinkedIn Growth & Lead Engine — Docs Bundle

## 🎯 Vision produit
Générer, publier et analyser des posts LinkedIn (profil & Page).  
Capturer des audiences chaudes/froides (4 modes : Lead **Chaud** / **Espion** / **Magnet** / **Froid**).  
Scorer automatiquement les profils selon l’ICP du client.  
Proposer des messages personnalisés prêts à envoyer (**validation humaine obligatoire**).  
Suivre les réponses en **temps réel via webhooks** et piloter les relances.

---

## 🧩 Plan détaillé (ce que doit pouvoir faire le SaaS)

### 1) Collecte de leads (4 modes)

#### A. Lead Chaud 🔥 (sur tes propres posts)
**Fonctions :**
- Sélecteur des posts du client :  
  - Par **profil** : `/v1/data/signals/profile/posts`  
  - Par **Page** : `/v1/data/signals/company/posts`
- Extraction d’engagements :  
  - Réactions : `/v1/posts/reactions` **ou** `/v1/data/signals/posts/reactions`  
  - Commentaires : `/v1/posts/extract-comments` **ou** `/v1/data/signals/posts/comments`
- Consolidation “personnes engagées” = (réactions ∪ commentaires) dédupliquées → **liste Lead Chaud**.

#### B. Lead Espion 🕵️ (sur un post concurrent)
**Fonctions :**
- Input utilisateur : **URL du post concurrent**.
- Extraction d’engagements (réactions + commentaires) via endpoints `data/signals`.
- Déduplication + construction **liste Lead Espion** (avec lien profil + contexte d’engagement).

#### C. Lead Magnet 🎁 (filtré)
**Fonctions :**
- Même base que Espion, mais avec **filtres** :  
  - Type de réaction (LIKE, INTEREST, …)  
  - **Mots-clés** dans commentaires  
  - Période, auteur, visibilité (si dispo)
- Retourne une **liste qualifiée** selon critères précis.

#### D. Lead Froid ❄️ (ICP → Prospects)
**Fonctions :**
- Recherche profils : `/v1/data/search/profiles` (keyword, job_title, industry, school, location, current_company; supports arrays).
- Enrichissement ciblé (optionnel) :  
  - Profil complet : `/v1/data/profil/info`  
  - Email pro (si client le veut) : `/v1/data/mail/finder`  
  - Validation email : `/v1/data/mail/validate`
- Résultat : **liste Lead Froid** selon ICP.

---

### 2) Scoring & qualification
**Objectif :** prioriser les prospects les plus proches de l’offre.

**Entrées de scoring :**
- Match **titre/skills/secteur/localisation** vs ICP.
- **Niveau d’engagement** (type de réaction, commentaire, ancienneté).
- **Seniorité & taille d’entreprise** (via company info / employee range).
- **Historique** d’interactions (si déjà dans la base).

**Données support :**
- Profil : `/v1/data/profil/info`
- Entreprise : `/v1/data/company/info` ou `/v1/data/company/info-by-domain`

**Sorties :**
- `score` (0–100), **raisons** (transparence), **tags** (ex : “ICP=OK”, “Decision-maker”, “Engagé”).

---

### 3) Messages d’approche (assistés IA)
Pour chaque lead de la liste :
- Générer un **message personnalisé** (pitch + bénéfice + preuve + CTA).
- Ton, langue, longueur, angle = guidés par **Brief IA** (voir données).
- Ajout **contexte** : référence au post/commentaire si Lead Chaud/Espion/Magnet.
- **Validation humaine obligatoire** avant envoi.

**Envoi :**
- Sur LinkedIn avec `/v1/messages/send-message` (si conv possible)  
- Sinon : proposer **création tâche** “à envoyer manuellement” ou **export CSV**.

**Sécurité :**
- Rate-limit interne (batchs, délai aléatoire).  
- Pas d’automatisation brute-force (respect LinkedIn).

---

### 4) Publications & calendrier (Profil + Page)
- Création de posts (profil) : `/v1/posts/create`
- Création de posts **Page** (client admin) : `/v1/posts/create-company`
- **Carrousel** : champ `files` (URLs multiples).

**Idées & variantes IA :**
- “Brief IA de contenu” → **2–3 variantes/slot**.
- Statut : **Brouillon → À valider → Programmé → Publié**.

**Après publication (cadence configurable) :**
- À **T+Xh** : collecte engagements (réactions/comments) → alimente Lead Chaud/Magnet.
- Mesure : réactions, commentaires, partages via `/v1/posts/feed` (+ endpoints d’extraction).

**A/B simple (optionnel) :**
- 2 variantes sur créneaux distincts → comparer taux d’engagement → feedback aux prompts.

---

### 5) Temps réel (option)
**Webhooks messages** pour réagir aux réponses :
- Créer compte : `/v1/webhooks/accounts`  
- Start monitoring : `/v1/webhooks/accounts/{id}/start`  
- Stop : `/v1/webhooks/accounts/{id}/stop`  
- Statut : `/v1/webhooks/accounts/{id}/status`  
- Liste : `GET /v1/webhooks/accounts`

**À la réception d’un webhook (message entrant) :**
- Classer (intention, intérêt).
- Proposer réponse assistée + prochaine action (call, ressource, démo).

**Coût & contrôle :**
- **10 crédits/jour** quand actif → bouton **ON/OFF** + rappel coût.

---

### 6) CRM simplifié & pipeline
**Objets DB (ex) :**
- `content_briefs(id, client_id, objectifs, thèmes, ton, cta)`
- `posts(id, page_id|profile_id, texte, assets, statut, scheduled_at, published_at, metrics)`
- `post_variants(id, post_id, version, texte, metrics)`
- `post_engagements(id, post_id, actor_id, type, texte, timestamp)`
- `leads(id, source_mode, profile_url, name, headline, company, location, notes)`
- `lead_scores(lead_id, score, factors, updated_at)`
- `messages(id, lead_id, channel, status, last_activity_at, conversation_id?)`

**Fonctions :**
- Listes par mode (Chaud/Espion/Magnet/Froid) avec filtres & tri par **score**.
- Actions bulk : “Générer messages”, “Ajouter au pipeline”, “Exporter CSV”.
- Historique : engagements, messages envoyés, réponses, statuts.

---

### 7) Recherche & enrichissement avancés
- **Search posts** : `/v1/posts/search`
- **Search companies** : `/v1/data/search/companies`
- **Company info** (URL/domaine) : `/v1/data/company/info`, `/v1/data/company/info-by-domain`
- **Email reverse** : `/v1/data/mail/reverse`

---

### 8) Recrutement (option)
- Lister annonces & stats : `/v1/recruiter/posts`
- Publier / Fermer : `/v1/recruiter/publish`, `/v1/recruiter/close`
- Créer offre : `/v1/recruiter/create`
- Récupérer candidats : `/v1/recruiter/candidates`

---

### 9) UI/UX (écrans clés)
- **Dashboard** (posts programmés, leads nouveaux, réponses en attente)
- **Calendrier de posts** (drag & drop, statuts, prévisualisation variantes)
- **Captation leads** (4 onglets, filtres, scores)
- **Fiche lead** (profil, score + raisons, historique, messages proposés, bouton “Envoyer”)
- **Messagerie**: Inbox (`/v1/messages/inbox`) & Conversation (`/v1/messages/conversation`), statut webhook
- **Rapports**: portée/engagement, leads par source, taux réponse → RDV, thèmes qui performent

---

### 10) Gouvernance & sécurité
- Stocker `login_token` **chiffré**
- Permissions : vérifier **admin Page** avant `/posts/create-company`
- Anti-abus : quotas internes, backoff, file d’attente
- Audit : journaliser appels API + coûts estimés, alertes (invalid cookie, rate limit)

---

### 11) Orchestration & jobs
- **Schedulers** : publication programmée, T+Xh collecte engagements
- **Workers** : extraction massive, scoring batch, génération messages
- **Idempotence** : dédupe `(post_id, actor_urn, type, timestamp)`

---

### 12) Métrologie & KPIs
- **Tech** : temps réponse, taux d’erreurs
- **Coûts** : crédits par client/fonctionnalité
- **Business** : engagement/post, leads/post, taux réponse, taux RDV

---

### 13) Pricing & coûts (cadre)
- Forfait mensuel + **crédits variables** (extraction 1 crédit/10 items, webhooks 10 crédits/jour, message 1–2 crédits, création post 1 crédit)
- Afficher **consommation estimée** avant actions bulk

---

### 14) Parcours utilisateur (macro)
1. Onboarding : connecter LinkedIn (saisir `login_token`), choisir Page(s)
2. Définir ICP + Brief IA (objectifs, objections, CTA, ton)
3. Planifier calendrier (ex. 3/semaine) → générer variantes → **valider**
4. Après chaque post : T+Xh extraire engagements → alimenter Lead Chaud/Magnet
5. Lancer **Lead Espion** sur posts concurrents
6. Lancer **Lead Froid** si besoin de volume net
7. Générer messages personnalisés → **valider** → envoyer (batch lissé)
8. Activer **webhooks** pour suivre réponses en temps réel → relances
9. Suivre rapports et **itérer** (thèmes, formats, hooks)

---

### 15) Roadmap d’implémentation
- **V1 (Core)** : Create Company Post + Calendrier + Variantes IA, Lead Chaud/Espion/Magnet, scoring basique, messages suggérés, Inbox on-demand, rapports simples
- **V1.5** : Webhooks messages (ON/OFF), Lead Froid + enrichissement, A/B simple + boucle d’apprentissage
- **V2** : Email finder/validate (option), playbooks multicanaux, Recrutement, scoring avancé (ML léger)

---

## 🔐 Variables d’environnement
Voir `Templates/ENV.example.md` pour la liste des variables à renseigner.

---

## 📚 Récap APIs
Les fiches détaillées par catégorie sont dans le dossier **APIs/**.
